<!DOCTYPE html>
<html>
<head>
    <!-- Pyodide and CodeMirror -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/pastel-on-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="192x192" href="../assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../assets/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="../assets/android-chrome-512x512.png">
    
    <!-- Core Stylesheets -->
    <link rel="stylesheet" href=../assets/colours.css>
    <link rel="stylesheet" href="../assets/shared-styles.css">
    <link rel="stylesheet" href="../assets/nav-bar.css">
    <link rel="stylesheet" href="../assets/module_card.css">
    <link rel="stylesheet" href="../assets/learning_outcomes.css">
    <link rel="stylesheet" href="../assets/learning_lists.css">
    <link rel="stylesheet" href="../assets/box_styles.css">
    <link rel="stylesheet" href="../assets/code_styles.css">

    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L2D - PF2 - Tuples</title>
    
    <!-- File URLs for this lesson -->
    <script>window.LESSON_FILES = []; window.LESSON_PACKAGES = [];</script>
        
</head>
<body>
    
    <!-- Sidebar Navigation -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <a href="../homepage.html" style="text-decoration: none; display: inline-block;">
                <img src="../assets/scryptIQ_logo_dark.png" alt="scryptIQ Logo" class="sidebar-logo">
            </a>
        </div>

        <h3>Content</h3>
        <ul>
            <li><a href="./introduction.html" class="">Introduction</a></li><li><a href="./lists.html">Lists</a></li>
            <li>
                <div class="nav-toggle active" data-target="expandable-section-2">
                    Tuples
                    <span class="toggle-icon">▼</span>
                </div>
                <ul class="nested-nav expanded" id="expandable-section-2"><li><a href="#introduction">Introduction</a></li><li><a href="#creating-a-tuple">Creating a tuple</a></li><li><a href="#accessing-a-tuple">Accessing a Tuple</a></li><li><a href="#empty-or-single-tuples">Empty or single tuples</a></li><li><a href="#conversion-to-a-tuple">Conversion to a tuple</a></li><li><a href="#item-mutability">Item Mutability</a></li><li><a href="#packing-and-unpacking">Packing and unpacking</a></li><li><a href="#summary">Summary</a></li>
                </ul>
            </li><li><a href="./sets.html">Sets</a></li><li><a href="./strings.html">Strings</a></li><li><a href="./comparison.html">Comparison</a></li><li><a href="./assignment.html">Assignment</a></li><li><a href="./feedback.html">Feedback</a></li>
        </ul>

        <h3 class="collapsible-header collapsed">
            Resources
            <span class="collapse-icon">►</span>
        </h3>
        <div class="collapsible-content collapsed">
            <ul>
                <li><a href="./glossary.html">Glossary</a></li><li><a href="./downloads.html">Downloads</a></li><li><a href="../HB/introduction.html">Handbook</a></li>
            </ul>
        </div>

        <h3 class="collapsible-header collapsed">
            Previous Modules
            <span class="collapse-icon">►</span>
        </h3>
        <div class="collapsible-content collapsed">
            <ul>
            <li><a href="../PF0/introduction.html">PF0</a></li>
            <li><a href="../PF1/introduction.html">PF1</a></li>
        </ul>
        </div>

        <h3>
            <li><a href="./report-issue.html">Report an Issue</a></li>
        </h3>
    </div>
    
    <!-- Sidebar Toggle Button -->
    <button id="sidebar-toggle" class="sidebar-toggle">❮</button>
    
    <!-- Main Content Area -->
    <div id="main-content" class="main-content">
        <!-- Top Navigation Bar -->
        <div class="top-navbar">
            <h1 class="page-title">Python Fundamentals 2</h1>
            <div class="nav-actions">
                <a href="../homepage.html" class="text-button" title="Materials homepage">
                    Homepage
                </a>
                <a href="https://learntodiscover.ai/my-cohorts/" class="text-button" title="Find out more about us">
                    Learn to Discover
                </a>
            </div>
        </div>

        
            <div class="module-card" id="introduction">
                <div class="module-header">
                    Tuples <span class="module-tag">PF2</span>
                </div>
                <div class="module-body">
                    <h3>Learning Objectives</h3>
                    <div class="learning-outcomes">
                        <div class="outcome-item">
                    <span class="outcome-number">1</span>
                    <span class="outcome-text">Understand the concept of immutability in Python</span>
                </div>
<div class="outcome-item">
                    <span class="outcome-number">2</span>
                    <span class="outcome-text">Create and work with tuples</span>
                </div>
<div class="outcome-item">
                    <span class="outcome-number">3</span>
                    <span class="outcome-text">Apply tuple packing and unpacking techniques</span>
                </div>
<div class="outcome-item">
                    <span class="outcome-number">4</span>
                    <span class="outcome-text">Understand when to use tuples vs lists</span>
                </div>
                    </div>
                    <h3>Introduction</h3>
                    <p>We have just learnt about Python lists, a general data store that is modifiable or mutable. However, there are occasions where we <em>don&#x27;t want our data to be changed</em>, so that it remains constant and consistent: in other words we want it to be <strong>immutable</strong>.<br><br>For such applications, we can use a <strong>tuple</strong>, a data structure whose contents <em>cannot be modified</em> in any way, once the strucutre is created or instantiated. Such an example might be experimental parameters for a run. These are fixed in the past, would not need modifying, and are likely to be used repeatably throughout analysis.<br><br>To read about tuples in more depth,documentation of <a href="https://docs.python.org/3.6/tutorial/datastructures.html#tuples-and-sequences"><code>tuples</code></a> from Python.org, is linked.</p>
                </div>
            </div>
            
            <div class="module-card" id="creating-a-tuple">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Creating a tuple</h3>
                        <p>The most common way to implement a tuple in Python is to place comma-separated values inside <strong>round parentheses</strong>, <code>()</code>:<br><pre class="markdown-code-block"><code>x = (1, 2, 3)</code></pre><br>You can also create a tuple <em>without</em> parentheses:<br><pre class="markdown-code-block"><code>x = 1, 2, 3</code></pre><br>In this case, Python acknowledges that a tuple is <em>implied</em> through the comma separation, creating the tuple through an operation known as <strong>packing</strong>. The former is referred to as an <strong>explicit tuple</strong>, and the latter, an <strong>implicit tuple</strong>.</p>
        <div class="info-box note-box">
            <div class="box-title">
                <span class="box-icon"></span>
                NOTE
            </div>
            <div class="box-content">
                <p>When creating a <code>tuple</code>, it is considered best practice to do so <strong>explicitly</strong>, using round parentheses <code>()</code>.</p>
            </div>
        </div>
        
        <div class="info-box history-box">
            <div class="box-title">
                <span class="box-icon"></span>
                HISTORY
            </div>
            <div class="box-content">
                <p>There are numerous ways of doing things in Python, all with their own potential benefits to different users and scenarios. However, there are good practices to coding in Python. One guide (or more of a philosophy) to how you set out your code is called the <a href="https://peps.python.org/pep-0020/"><strong>Zen of Python</strong></a>, a collection of 19 guiding principles for writing computer programs, written by Tim Peters, a major contributor to the creation of Python itself.<br><br>One line stands out for beginners:<br><br><strong>Explicit is better than implicit.</strong><br><br>We should always be making our code as readable as possible for others and ourselves, which means taking the time to use code that explicitly shows what is happening. For example, this principle encourages using round parentheses <code>()</code> when creating a tuple, even when they&#x27;re not strictly required.</p>
            </div>
        </div>
        
        <div class="info-box key-terms-box">
            <div class="box-title">
                <span class="box-icon"></span>
                KEY TERMS
            </div>
            <div class="box-content">
                <p><strong>Explicit</strong>: Clearly stated or defined code that shows exactly what is happening, following the Zen of Python principle &quot;Explicit is better than implicit&quot;. For example, using parentheses <code>()</code> when creating tuples even when they&#x27;re not strictly required.<br><br><strong>Implicit</strong>: Code behaviour that is inferred or understood without being directly stated, such as creating tuples without parentheses using comma separation.</p>
            </div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-60"># The Wnt pathway coreceptors will not be changing, so we save them as a tuple

coreceptors = (&#x27;Frizzled&#x27;, &#x27;LRP&#x27;)

print(type(coreceptors))</textarea>
            </div>
            <div id="code-cell-60-output" class="output"></div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-61"># Printing them retains the () brackets

print(coreceptors)</textarea>
            </div>
            <div id="code-cell-61-output" class="output"></div>
        </div>
        <p>Accessing values inside a tuple works the same as accessing a list, using square brackets <code>[]</code>.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-62">print(coreceptors[0])</textarea>
            </div>
            <div id="code-cell-62-output" class="output"></div>
        </div>
        <p>However, different from a list, a tuple is <strong>immutable</strong>, so we cannot reassign or modify the values within</p>
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-63"># Run this cell to return a TypeError due to trying to reassign one of the values

coreceptors[0] = &#x27;new&#x27;</textarea>
            </div>
            <button id="run-code-cell-63" class="run-button">Run Code</button>
            <div id="code-cell-63-output" class="output"></div>
        </div>
        
        <div class="video-container">
            <iframe 
                src="https://www.youtube.com/embed/n3xtBiAwHvw"
                width="560"
                height="315"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
            </iframe>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="accessing-a-tuple">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Accessing a Tuple</h3>
                        <p>The principles of indexing and slicing a tuple are identical to those of a list. You can access items using positive and negative indexing, and create slices using the same <code>[start:end]</code> notation.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-64"># DNA bases tuple
dna_bases = (&#x27;A&#x27;, &#x27;T&#x27;, &#x27;G&#x27;, &#x27;C&#x27;)

print(&#x27;First base:&#x27;, dna_bases[0])     # Positive indexing
print(&#x27;Last base:&#x27;, dna_bases[-1])     # Negative indexing
print(&#x27;First two:&#x27;, dna_bases[:2])     # Slicing</textarea>
            </div>
            <div id="code-cell-64-output" class="output"></div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-65"># Practice indexing with the tuple below
amino_acids = (&#x27;Ala&#x27;, &#x27;Gly&#x27;, &#x27;Val&#x27;, &#x27;Leu&#x27;, &#x27;Ile&#x27;, &#x27;Pro&#x27;)

# Access the third amino acid
# Access the last two amino acids using slicing</textarea>
            </div>
            <button id="run-code-cell-65" class="run-button">Run Code</button>
            <div id="code-cell-65-output" class="output"></div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="accessing-a-tuple">
                <div class="module-body">
                    <div class="module-section">
                        
        <div class="info-box practice-exercise-box">
            <div class="box-title">
                <span class="box-icon"></span>
                PRACTICE EXERCISE
            </div>
            <div class="box-content">
                <p><strong>1.</strong></p>
                <p>Create a tuple called <code>genetic_code</code> containing the four DNA bases: &#x27;A&#x27;, &#x27;T&#x27;, &#x27;G&#x27;, &#x27;C&#x27;. Then:<ul class="nested-list"><li>Print the length of the tuple</li><br><li>Access and print the second base (index 1)</li><br><li>Print the last base using negative indexing</li></ul></p>
            </div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-66"># Create your genetic_code tuple here</textarea>
            </div>
            <button id="run-code-cell-66" class="run-button">Run Code</button>
            <div id="code-cell-66-output" class="output"></div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="empty-or-single-tuples">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Empty or single tuples</h3>
                        <p>A <code>tuple</code> can be empty or only have a single value (singleton) stored within it.<br><br>The use of empty tuples is not immediately obvious, but they do have their use case in maintaining data type consistency, on occasions where the entry has no data, for instance. Remember: a tuple cannot be modified after it is instantiated, and so it will stay empty, unless it is overwritten or replaced.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-67">empty_tuple = tuple() # empty_tuple = () also works

print(f&quot;Tuple: {empty_tuple}, Type: {type(empty_tuple)}, Length: {len(empty_tuple)}&quot;)</textarea>
            </div>
            <div id="code-cell-67-output" class="output"></div>
        </div>
        <p><strong>Singleton tuples</strong> are needed frequently, but have a creation quirk that is worth addressing. <em>You cannot create a singleton tuple with just round parentheses around an item</em> <code>(item)</code>. Instead, you <strong>must</strong> provide a <em>trailing comma after the item</em>: <code>(item,)</code>. Without the comma, Python will interpret the parentheses as a grouping and not a tuple, which can cause a lot of common bugs.</p>
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-68"># Without the comma an error will be given
# Try this for yourself by removing the comma, and rerunning the cell

singleton = (1,)

print(f&quot;Tuple: {singleton}, Type: {type(singleton)}, Length: {len(singleton)}&quot;)</textarea>
            </div>
            <button id="run-code-cell-68" class="run-button">Run Code</button>
            <div id="code-cell-68-output" class="output"></div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="conversion-to-a-tuple">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Conversion to a tuple</h3>
                        <p>Similar to list, we can convert other sequences to tuple using the <code>tuple()</code> class.</p>
        <div class="info-box note-box">
            <div class="box-title">
                <span class="box-icon"></span>
                NOTE
            </div>
            <div class="box-content">
                <p>Just like <code>list()</code>, <code>tuple()</code> is technically a <strong>class</strong> and <em>not</em> a function. And yet, the way that we use it - it behaves like a function. Essentially, we pass it data, and use it to return an object containing data that is <strong>typecasted</strong> (where its type is forced) into that of type <code>tuple</code>.</p>
            </div>
        </div>
        <p>In the code cell below, let&#x27;s create a list, and check its type.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-69"># Our behaviour list is now complete with no further editing

behaviours = [&#x27;foraging&#x27;, &#x27;grooming&#x27;, &#x27;resting&#x27;]

print(type(behaviours))</textarea>
            </div>
            <div id="code-cell-69-output" class="output"></div>
        </div>
        <p>And now lets create a new tuple object, and typecast the items in the list into the items of a new tuple, using the <code>tuple()</code> class.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-70"># So we make it a tuple to prevent any accidental modification

behaviours_tuple = tuple(behaviours)

print(behaviours_tuple)
print(type(behaviours_tuple))</textarea>
            </div>
            <div id="code-cell-70-output" class="output"></div>
        </div>
        <p>Experiment for yourself in the code cell below, by typecasting the list <code>enzyme_list</code> into a tuple.</p>
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-71"># Convert a list of enzyme names to a tuple
enzyme_list = [&#x27;amylase&#x27;, &#x27;pepsin&#x27;, &#x27;trypsin&#x27;, &#x27;lipase&#x27;]

# Convert to tuple and print both the result and its type</textarea>
            </div>
            <button id="run-code-cell-71" class="run-button">Run Code</button>
            <div id="code-cell-71-output" class="output"></div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="item-mutability">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Item Mutability</h3>
                        <p><br>Whilst a tuple itself is <em>immutable</em>, the mutability of its items depends on the data type of that value. It can therefore contain both mutable and immutable objects. For the sake of explicitness, this basically means that a tuple <em>can</em> contain mutable objects but is, itself, <em>immutable</em>.<br><br>In the code cell below, we will create a tuple that contains a list (a mutable data structure) as one of its items:</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-72"># This tuple&#x27;s items are: (immutable, immutable, immutable, immutable, MUTABLE)
mixed_tuple = (1, 2.5, &#x27;abc&#x27;, (3, 4), [5, 6])

print(mixed_tuple)</textarea>
            </div>
            <div id="code-cell-72-output" class="output"></div>
        </div>
        <p>Mutable objects inside a tuple may still be changed. Just because we are storing a mutable list inside a tuple, does not mean that we cannot edit the contents of that list. It is only the outer structure of the tuple itself that cannot be changed.<br><br>Let&#x27;s slice into that list in this code cell, and demonstrate how we can change its first element using adjacent pairs of square brackets, and reassigning the first list item (index 0), by replacing it with a string.<br><br>For the sake of explicitness, the first line of code in the cell below accesses the last item in the tuple using negative indexing, and in the second square bracket pair, accesses the first item in the sublist, and reassigns its value from &#x27;5&#x27; to &#x27;index modified&#x27;.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-73"># Accessing the items inside the mutable object allows us to modify them

mixed_tuple[-1][0] = &#x27;index modified&#x27;

print(mixed_tuple)</textarea>
            </div>
            <div id="code-cell-73-output" class="output"></div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-74"># Applying a method that acts in-situ to the item will also modify it

mixed_tuple[-1].append(&#x27;append modified&#x27;)

print(mixed_tuple)</textarea>
            </div>
            <div id="code-cell-74-output" class="output"></div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-75"># We cannot remove the list from the tuple,
# but we can empty it by clearing its items:

mixed_tuple[4].clear()

print(mixed_tuple)</textarea>
            </div>
            <div id="code-cell-75-output" class="output"></div>
        </div>
        
        <div class="info-box fact-box">
            <div class="box-title">
                <span class="box-icon"></span>
                FACT
            </div>
            <div class="box-content">
                <p><strong>Why <em>can</em> we change mutable objects inside a tuple?</strong><br><br>Members of a tuple are <em>not directly stored</em> in memory. An immutable value (e.g. an integer) has an existing, predefined <strong>reference</strong> in memory. When used in a tuple, it is this reference that is <em>associated</em> with the tuple, not the value itself.<br><br>A mutable object, however, <em>lacks a predefined reference</em> in memory, and is instead created on request somewhere in your computer&#x27;s memory. While we can never change a predefined reference, we can manipulate something we have defined ourselves. When we make such an alteration, the location of our mutable object in memory may change, but its reference, which is what is stored in the tuple, remains identical.</p>
            </div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="item-mutability">
                <div class="module-body">
                    <div class="module-section">
                        
        <div class="info-box practice-exercise-box">
            <div class="box-title">
                <span class="box-icon"></span>
                PRACTICE EXERCISE
            </div>
            <div class="box-content">
                <p><strong>2.</strong></p>
                <p>You&#x27;re working with experimental conditions that should never change during analysis. Create the following tuples:<ol class="nested-list"><li>An empty tuple called <code>placeholder_results</code></li><br><li>A singleton tuple called <code>control_group</code> containing only the string &#x27;untreated&#x27;</li><br><li>Try to modify the second element of this tuple: <code>(&#x27;constant&#x27;, &#x27;fixed&#x27;, &#x27;immutable&#x27;)</code> to see the error</li></ol></p>
            </div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-76"># Create your tuples and test immutability here</textarea>
            </div>
            <button id="run-code-cell-76" class="run-button">Run Code</button>
            <div id="code-cell-76-output" class="output"></div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="packing-and-unpacking">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Packing and unpacking</h3>
                        <p>As previously discussed, a tuple may also be constructed without parentheses. This is an implicit operation in Python, and is known as <strong>packing</strong>.</p>
        <div class="info-box key-terms-box">
            <div class="box-title">
                <span class="box-icon"></span>
                KEY TERMS
            </div>
            <div class="box-content">
                <p><strong>Packing</strong>: The process of combining multiple values into a single tuple, either explicitly with parentheses <code>(a, b, c)</code> or implicitly with comma separation <code>a, b, c</code>. Python automatically interprets comma-separated values as a tuple.<br><br><strong>Unpacking</strong>: The process of extracting values from a tuple and assigning them to individual variables, making code more readable and allowing work with individual items.</p>
            </div>
        </div>
        <p>Let&#x27;s demonstrate packing in this cell, creating a new tuple called <code>my_tuple</code>, in the process:</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-77">my_tuple = 1, 2, 3 # Implicitly packing 3 numbers into a tuple (not using round brackets).

# my_tuple = (1, 2, 3) &lt;- This would produce the same result, and is just explicitly packing the tuple.

print(f&quot;My tuple contains: {my_tuple} and is of type {type(my_tuple)}.&quot;)</textarea>
            </div>
            <div id="code-cell-77-output" class="output"></div>
        </div>
        <p>And in this cell, let&#x27;s <em>unpack</em> that tuple&#x27;s items into three variables called a, b and c.<br><br>This is also an example of a <strong>multiple assignment</strong>, where we are using a single line of code and a single <code>=</code> operator to assign values to three variables, at once. (The alternative would be to assign each of them, individually, on separate lines).</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-78">a, b, c = my_tuple # Creates three variables, and storing each of the tuple&#x27;s items in these, in sequence.

print(f&quot;The contents of a = {a}&quot;, f&quot;The contents of b = {b}&quot;, f&quot;The contents of c = {c}&quot;, sep=&quot;\n&quot;)</textarea>
            </div>
            <div id="code-cell-78-output" class="output"></div>
        </div>
        
        <div class="info-box warning-box">
            <div class="box-title">
                <span class="box-icon"></span>
                WARNING
            </div>
            <div class="box-content">
                <p>Implicit processes should be used sparingly. As always, the <strong>more coherent and explicit the code, the better it is</strong>. However, packing and unpacking are widely used Python idioms that make code more readable in certain contexts.</p>
            </div>
        </div>
        <p>For clarity, here&#x27;s a second example, where we <em>explicitly</em> create the tuple using round brackets. We consider this to be better coding practice, but both packing techniques are considered valid.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-79">dimensions = (1, 2, 3, 5, 7, 11)

print(dimensions,          # Our new tuple.
      type(dimensions),    # Checks its type.
      len(dimensions),     # Checks its length (its total number of items).
      sep=&#x27;\n&#x27;)</textarea>
            </div>
            <div id="code-cell-79-output" class="output"></div>
        </div>
        <p>As we can see, our tuple contains 6 items (or elements). Let&#x27;s try to unpack the first 3, and see what happens:</p>
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-80">x, y, z = dimensions

print(&quot;First 3 dimensions:&quot;, x, y, z)</textarea>
            </div>
            <button id="run-code-cell-80" class="run-button">Run Code</button>
            <div id="code-cell-80-output" class="output"></div>
        </div>
        <p>Python immediately throws a ValueError. When unpacking a <code>tuple</code>, the <strong>number of variables on the left must match the number of items in the tuple</strong>.</p>
        <div class="info-box note-box">
            <div class="box-title">
                <span class="box-icon"></span>
                NOTE
            </div>
            <div class="box-content">
                <p><strong>Why do we need to know this?</strong><br><br><strong>Packing</strong> and <strong>unpacking</strong> are two processes employed when you want to store the returned values from a function (if there are multiple values). If all returned values are stored in one variable, they will be stored as a tuple. Unpacking allows you to separate them into individual, meaningfully named variables. This will become clearer when we discuss functions at greater length in our Python Fundamentals 4 lesson.</p>
            </div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="packing-and-unpacking">
                <div class="module-body">
                    <div class="module-section">
                        
        <div class="info-box practice-exercise-box">
            <div class="box-title">
                <span class="box-icon"></span>
                PRACTICE EXERCISE
            </div>
            <div class="box-content">
                <p><strong>3.</strong></p>
                <p>You&#x27;re analysing protein structure data. Each protein record contains: name, molecular_weight, length, and function.<ol class="nested-list"><li>Create a tuple called <code>insulin_data</code> with the values: (&#x27;Insulin&#x27;, 5808, 51, &#x27;hormone&#x27;)</li><br><li>Use unpacking to extract these values into separate variables with meaningful names</li><br><li>Print a formatted message: &quot;Insulin is a hormone with molecular weight 5808 and length 51&quot;</li><br><li>Create another tuple using packing (without parentheses) for haemoglobin: (&#x27;Haemoglobin&#x27;, 64500, 574, &#x27;oxygen transport&#x27;)</li></ol></p>
            </div>
        </div>
        
        <div class="code-area">
            <div class="code-container code-editor">
                <textarea id="code-cell-81"># Complete the protein analysis tasks here</textarea>
            </div>
            <button id="run-code-cell-81" class="run-button">Run Code</button>
            <div id="code-cell-81-output" class="output"></div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="advanced-unpacking-techniques">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Advanced Unpacking Techniques</h3>
                        <p>Python also supports more advanced unpacking patterns, including the <code><em></code> operator. The <code></em></code> will collect any remaining items into a list, allowing you to unpack a variable number of items from a sequence. This is particularly useful when you know some specific positions but want to capture the rest as a group.</p>
        <div class="code-area">
            <div class="code-container code-fixed">
                <textarea id="code-cell-82"># Unpacking with the * operator
gene_expression_data = (&#x27;BRCA1&#x27;, 2.3, 4.1, 3.7, 5.2, 1.8)

gene_name, *expression_levels = gene_expression_data

print(&#x27;Gene:&#x27;, gene_name)
print(&#x27;Expression levels:&#x27;, expression_levels)
print(&#x27;Type of expression levels:&#x27;, type(expression_levels))</textarea>
            </div>
            <div id="code-cell-82-output" class="output"></div>
        </div>
        <p>The <code>*</code> operator captures all remaining items as a list (not a tuple), making it easy to work with variable-length data.</p>
        <div class="info-box fact-box">
            <div class="box-title">
                <span class="box-icon"></span>
                FACT
            </div>
            <div class="box-content">
                <p><strong>Named Tuples:</strong> There is another type of tuple in Python called a <code>namedtuple</code>. This allows the members of a tuple to be named independently (e.g. <code>member.name</code> or <code>member.age</code>), eliminating the need for unpacking in some cases.<br><br>It is not a built-in tool but it is included in the standard library, so you won&#x27;t have to install it. It was originally implemented by <a href="https://twitter.com/raymondh">Raymond Hettinger</a>, one of Python&#x27;s core developers. While not covered in detail here, it&#x27;s worth knowing about for more advanced applications.</p>
            </div>
        </div>
        
                    </div>
                </div>
            </div>
            
            <div class="module-card" id="summary">
                <div class="module-body">
                    <div class="module-section">
                        <h3>Summary</h3>
                        <p>In this section, we learned about <code>tuple</code>, another type of data structure within Python, and one which is <strong>immutable</strong>.<br><br>Tuples are particularly useful in biological programming for storing data that should <em>remain constant</em> throughout analysis, such as experimental conditions, genetic codes or protein properties. Their immutability provides <em>data integrity</em> whilst their ability to be unpacked makes them excellent for returning multiple values from functions.<br><br>Understanding when to use tuples versus lists is crucial: use tuples for data that should not change, and lists for collections that need to be modified during program execution.</p>
                    </div>
                </div>
            </div>
            
        
        <div class="page-navigation">
            <a href="./lists.html" class="nav-button prev">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                </svg>
                Previous
            </a>
            <a href="./sets.html" class="nav-button next">
                Next
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                </svg>
            </a></div>
        
        <!-- Footer -->
        <div class="footer">
            <div>© All materials are copyright scryptIQ 2025</div>
            <div>Powered by Pyodide</div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="../assets/main.js"></script>
    
    <!-- Pyodide Initialisation Script -->
    <script>

// Generalisable Pyodide Initialisation Script
// Variables and state build up naturally as code blocks execute in order

async function main() {
    // Show loading message for all output elements
    document.querySelectorAll(".output").forEach(el => {
        el.textContent = "Loading Pyodide...";
        el.classList.add("loading-message");
    });
    
    try {
        // Load Pyodide
        console.log("Loading Pyodide...");
        const pyodideStartTime = performance.now();
        let pyodide = await loadPyodide();
        const pyodideLoadTime = performance.now() - pyodideStartTime;
        console.log(`Pyodide loaded in ${pyodideLoadTime.toFixed(2)}ms`);
        
        // Load required packages only if specified
        const lessonPackages = window.LESSON_PACKAGES || [];
        
        if (lessonPackages.length > 0) {
            console.log("Loading required Python packages...");
            const packagesStartTime = performance.now();
            
            // Separate built-in packages from PyPI packages
            const builtInPackages = lessonPackages.filter(pkg => 
                ['numpy', 'scipy', 'matplotlib', 'pandas', 'scikit-learn', 'pillow', 'regex'].includes(pkg)
            );
            
            const micropipPackages = lessonPackages.filter(pkg => !builtInPackages.includes(pkg));
            
            // Load built-in packages (fast)
            if (builtInPackages.length > 0) {
                await pyodide.loadPackage(builtInPackages);
                console.log(`Loaded built-in packages: ${builtInPackages.join(', ')}`);
            }
            
            // Install PyPI packages (slower)
            if (micropipPackages.length > 0) {
                await pyodide.loadPackage(['micropip']);
                const micropip = pyodide.pyimport('micropip');
                await micropip.install(micropipPackages);
                console.log(`Installed PyPI packages: ${micropipPackages.join(', ')}`);
            }
            
            const packagesLoadTime = performance.now() - packagesStartTime;
            console.log(`Packages loaded in ${packagesLoadTime.toFixed(2)}ms`);
            console.log(`Total initialisation time: ${(pyodideLoadTime + packagesLoadTime).toFixed(2)}ms`);
        } else {
            console.log("No packages to load for this lesson");
            console.log(`Total initialisation time: ${pyodideLoadTime.toFixed(2)}ms`);
        }

        // Only set up basic Python environment - no pre-loaded variables
        await pyodide.runPythonAsync(`
            import sys
            from io import StringIO
        `);

        // Only set up matplotlib if it's in the loaded packages
        if (lessonPackages.includes('matplotlib')) {
            await pyodide.runPythonAsync(`
                # Set up matplotlib for web rendering
                import matplotlib
                matplotlib.use('AGG')
                import matplotlib.pyplot as plt
                import io
                import base64
                
                def capture_matplotlib():
                    """Capture current matplotlib figure as HTML img tag"""
                    buf = io.BytesIO()
                    plt.savefig(buf, format='png', bbox_inches='tight', dpi=100)
                    buf.seek(0)
                    img_base64 = base64.b64encode(buf.read()).decode('utf-8')
                    plt.close()
                    return f'<img src="data:image/png;base64,{img_base64}" style="max-width: 100%; height: auto;" />'
            `);
            console.log('Matplotlib capture function set up');
        }
        
        console.log("Pyodide loaded successfully");
        
        // Load remote files if URLs are specified
        const lessonFiles = window.LESSON_FILES || [];
        
        if (lessonFiles.length > 0) {
            try {
                console.log(`Checking for ${lessonFiles.length} remote file(s) to load...`);
                
                // Build Python code to load all files dynamically
                let pythonCode = `
from pyodide.http import pyfetch
import os

# Create data directory if it doesn't exist
os.makedirs('./data', exist_ok=True)
`;
                
                // Add loading code for each file
                for (const file of lessonFiles) {
                    pythonCode += `
# Load ${file.filename}
try:
    response = await pyfetch("${file.url}")
    content = await response.string()
    with open('./data/${file.filename}', 'w') as f:
        f.write(content)
    print("Loaded: ${file.filename}")
except Exception as e:
    print(f"Could not load ${file.filename}: {e}")
`;
                }
                
                await pyodide.runPythonAsync(pythonCode);
                console.log("Remote files loaded successfully");
            } catch (error) {
                console.warn("Error loading remote files (continuing anyway):", error);
            }
        } else {
            console.log("No remote files to load for this lesson");
        }
        
        // Function to execute Python code and capture output
        async function executePythonCode(code) {
            try {
                // Redirect Python stdout to capture print statements
                await pyodide.runPythonAsync(`
                    old_stdout = sys.stdout
                    sys.stdout = mystdout = StringIO()
                `);
                
                // Run the user code
                const result = await pyodide.runPythonAsync(code);
                
                // Get the captured stdout
                let stdout = await pyodide.runPythonAsync(`
                    sys.stdout = old_stdout
                    mystdout.getvalue()
                `);
                
                // Check for matplotlib figures only if matplotlib was loaded
                const lessonPackages = window.LESSON_PACKAGES || [];
                if (lessonPackages.includes('matplotlib')) {
                    const hasFigures = await pyodide.runPythonAsync(`
                        import matplotlib.pyplot as plt
                        len(plt.get_fignums()) > 0
                    `);
                    
                    if (hasFigures) {
                        const figureHtml = await pyodide.runPythonAsync(`capture_matplotlib()`);
                        if (stdout) stdout += "\n";
                        stdout += figureHtml;
                    }
                }
                
                // Combine stdout and result
                let output = stdout;
                if (result !== undefined && result !== null && String(result).trim() !== '') {
                    if (output) output += "\n";
                    output += String(result);
                }
                
                return { success: true, output: output || "Code executed successfully (no output)" };
                
            } catch (error) {
                return { success: false, output: "Error: " + error.message };
            }
        }
        
        // Execute all hidden code blocks first (for setup code like imports)
        const hiddenCodeBlocks = Array.from(document.querySelectorAll('.hidden-code textarea'));
        console.log(`Found ${hiddenCodeBlocks.length} hidden code blocks`);

        for (const textarea of hiddenCodeBlocks) {
            const code = textarea.value.trim();
            if (!code) continue;
            
            console.log(`Executing hidden code block: ${textarea.id}`);
            const result = await executePythonCode(code);
            
            if (!result.success) {
                console.error(`Error in hidden code block ${textarea.id}:`, result.output);
            } else {
                console.log(`Hidden code block ${textarea.id} executed successfully`);
            }
        }

        console.log("All hidden code blocks executed");
        
        // Get all fixed code blocks in document order
        const fixedCodeBlocks = Array.from(document.querySelectorAll('.code-fixed textarea'));
        
        // Setup and execute fixed code blocks sequentially
        for (const textarea of fixedCodeBlocks) {
            const code = textarea.value.trim();
            if (!code) continue;
            
            // Set up CodeMirror editor (read-only)
            const editor = CodeMirror.fromTextArea(textarea, {
                mode: "python",
                theme: "pastel-on-dark",
                lineNumbers: true,
                readOnly: true,
                viewportMargin: Infinity
            });
            
            // Find corresponding output element
            const outputId = textarea.id + '-output';
            const outputElement = document.getElementById(outputId);
            
            if (outputElement) {
                outputElement.textContent = "Running code...";
                outputElement.classList.add("loading-message");
                
                // Execute the code (this maintains state for subsequent blocks)
                const result = await executePythonCode(code);
                
                // Display the output - check if it's HTML
                const trimmedOutput = result.output.trim();
                console.log('Output length:', trimmedOutput.length);
                console.log('Output starts with:', trimmedOutput.substring(0, 100));
                
                if (trimmedOutput.includes('<script') && trimmedOutput.includes('Plotly')) {
                    // It's Plotly HTML output - extract just the body content
                    console.log('Rendering as Plotly HTML');
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(result.output, 'text/html');
                    // Clear the output element and append the body content
                    outputElement.innerHTML = '';
                    
                    // Find and load external scripts first (like Plotly CDN)
                    const externalScripts = Array.from(doc.querySelectorAll('script[src]'));
                    const inlineScripts = Array.from(doc.querySelectorAll('script:not([src])'));
                    
                    // Append non-script content first
                    Array.from(doc.body.children).forEach(child => {
                        if (child.tagName !== 'SCRIPT') {
                            outputElement.appendChild(child.cloneNode(true));
                        }
                    });
                    
                    // Load external scripts sequentially
                    const loadScript = (src) => {
                        return new Promise((resolve, reject) => {
                            const script = document.createElement('script');
                            script.src = src;
                            script.onload = resolve;
                            script.onerror = reject;
                            document.head.appendChild(script);
                        });
                    };
                    
                    // Load all external scripts first
                    Promise.all(externalScripts.map(s => loadScript(s.src)))
                        .then(() => {
                            console.log('External scripts loaded, executing inline scripts');
                            // Now execute inline scripts
                            inlineScripts.forEach(oldScript => {
                                const newScript = document.createElement('script');
                                newScript.textContent = oldScript.textContent;
                                outputElement.appendChild(newScript);
                            });
                            console.log('Output element after processing:', outputElement.children.length, 'children');
                        })
                        .catch(err => {
                            console.error('Failed to load external scripts:', err);
                            outputElement.textContent = 'Error loading Plotly: ' + err.message;
                        });
                } else if (trimmedOutput.startsWith('<!DOCTYPE') || 
                           trimmedOutput.startsWith('<html') ||
                            trimmedOutput.startsWith('<div') ||
                            trimmedOutput.startsWith('<img')) {
                    console.log('Rendering as generic HTML');
                    outputElement.innerHTML = result.output;
                    console.log('Output element after innerHTML:', outputElement.children.length, 'children');
                } else {
                    console.log('Rendering as plain text');
                    outputElement.textContent = result.output;
                }
                outputElement.classList.remove("loading-message");
                if (result.success) {
                    outputElement.classList.add("success-message");
                    outputElement.classList.remove("error-message");
                } else {
                    outputElement.classList.add("error-message");
                    outputElement.classList.remove("success-message");
                }
            }
            
            // Small delay to show progression
            await new Promise(resolve => setTimeout(resolve, 100));
        }
        
        // Setup all editable code blocks (but don't execute them)
        document.querySelectorAll('.code-editor textarea').forEach((textarea) => {
            // Set up CodeMirror editor (editable)
            const editor = CodeMirror.fromTextArea(textarea, {
                mode: "python",
                theme: "pastel-on-dark",
                lineNumbers: true,
                viewportMargin: Infinity
            });
            
            // Find corresponding run button and output element
            const baseId = textarea.id;
            const runButtonId = 'run-' + baseId;
            const outputId = baseId + '-output';
            
            const runButton = document.getElementById(runButtonId);
            const outputElement = document.getElementById(outputId);
            
            if (runButton && outputElement) {
                // Set initial state
                outputElement.textContent = "Ready to run code!";
                outputElement.classList.remove("loading-message");
                
                runButton.addEventListener("click", async () => {
                    const code = editor.getValue().trim();
                    if (!code) {
                        outputElement.textContent = "No code to run";
                        return;
                    }
                    
                    outputElement.textContent = "Running...";
                    outputElement.classList.remove("error-message", "success-message");
                    outputElement.classList.add("loading-message");
                    
                    // Execute the code (this also maintains state for future blocks)
                    const result = await executePythonCode(code);
                    
                    // Display the output - check if it's HTML
                    const trimmedOutput = result.output.trim();
                    console.log('Output length:', trimmedOutput.length);
                    console.log('Output starts with:', trimmedOutput.substring(0, 100));
                    
                    if (trimmedOutput.includes('<script') && trimmedOutput.includes('Plotly')) {
                        // It's Plotly HTML output - extract just the body content
                        console.log('Rendering as Plotly HTML');
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(result.output, 'text/html');
                        // Clear the output element and append the body content
                        outputElement.innerHTML = '';
                        
                        // Find and load external scripts first (like Plotly CDN)
                        const externalScripts = Array.from(doc.querySelectorAll('script[src]'));
                        const inlineScripts = Array.from(doc.querySelectorAll('script:not([src])'));
                        
                        // Append non-script content first
                        Array.from(doc.body.children).forEach(child => {
                            if (child.tagName !== 'SCRIPT') {
                                outputElement.appendChild(child.cloneNode(true));
                            }
                        });
                        
                        // Load external scripts sequentially
                        const loadScript = (src) => {
                            return new Promise((resolve, reject) => {
                                const script = document.createElement('script');
                                script.src = src;
                                script.onload = resolve;
                                script.onerror = reject;
                                document.head.appendChild(script);
                            });
                        };
                        
                        // Load all external scripts first
                        Promise.all(externalScripts.map(s => loadScript(s.src)))
                            .then(() => {
                                console.log('External scripts loaded, executing inline scripts');
                                // Now execute inline scripts
                                inlineScripts.forEach(oldScript => {
                                    const newScript = document.createElement('script');
                                    newScript.textContent = oldScript.textContent;
                                    outputElement.appendChild(newScript);
                                });
                                console.log('Output element after processing:', outputElement.children.length, 'children');
                            })
                            .catch(err => {
                                console.error('Failed to load external scripts:', err);
                                outputElement.textContent = 'Error loading Plotly: ' + err.message;
                            });
                    } else if (trimmedOutput.startsWith('<!DOCTYPE') || 
                               trimmedOutput.startsWith('<html') ||
                               trimmedOutput.startsWith('<div')) {
                        outputElement.innerHTML = result.output;
                    } else {
                        outputElement.textContent = result.output;
                    }
                    outputElement.classList.remove("loading-message");
                    if (result.success) {
                        outputElement.classList.add("success-message");
                        outputElement.classList.remove("error-message");
                    } else {
                        outputElement.classList.add("error-message");
                        outputElement.classList.remove("success-message");
                    }
                });
            }
        });
        
        console.log("All code blocks initialised successfully");

        // Set flag to indicate Pyodide is fully ready
        window.pyodideReady = true;
        console.log("Pyodide fully ready");
        
    } catch (error) {
        console.error("Failed to initialise Pyodide:", error);
        document.querySelectorAll(".output").forEach(el => {
            el.textContent = "Error loading Pyodide: " + error.message;
            el.classList.remove("loading-message");
            el.classList.add("error-message");
        });
    }
}

// Start the application when DOM is loaded
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', main);
} else {
    main();
}
    </script>
</body>
</html>
    